# Copy to /etc/student-exchange/webhook-listener.env
# Keep this file out of git in production.

LISTEN_HOST=127.0.0.1
LISTEN_PORT=9000
WEBHOOK_PATH=/webhook/github/deploy

GITHUB_WEBHOOK_SECRET=<replace-with-long-random-secret>
GITHUB_EXPECTED_REPO=WindFaculty/Student-Exchange-Web
GITHUB_EXPECTED_REF=refs/heads/main
# Comma-separated CIDR list from GitHub hooks meta API.
GITHUB_WEBHOOK_ALLOWED_CIDRS=<cidr1>,<cidr2>

DEPLOY_SCRIPT=/opt/student-exchange/app/deploy/scripts/deploy.sh

# Deploy script environment overrides
REPO_DIR=/opt/student-exchange/app
BRANCH=main
COMPOSE_FILE=/opt/student-exchange/app/docker-compose.prod.yml
BACKEND_ENV_FILE=/opt/student-exchange/shared/backend.env
LAST_SUCCESSFUL_SHA_FILE=/opt/student-exchange/shared/last_successful_sha
DEPLOY_LOG_FILE=/var/log/student-exchange/deploy.log
LOCK_FILE=/var/lock/student-exchange/deploy.lock
HEALTHCHECK_URL=http://127.0.0.1:18080/api/health
HEALTHCHECK_RETRIES=30
HEALTHCHECK_SLEEP_SECONDS=2
NOTIFY_WEBHOOK_URL=
