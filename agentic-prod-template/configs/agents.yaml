agents:
  default:
    max_steps: 40
    require_plan: true
    require_diff: true
    require_tests_for_merge: true
    session_rules:
      - "Read docs/00-context.md and tasks/task-queue.md before coding"
      - "Work on exactly one task per session unless explicitly requested otherwise"
      - "Update docs/00-context.md, tasks/task-queue.md, and tasks/done.md when a task is completed"
    stop_on:
      - "policy_violation"
      - "no_progress_3_steps"
      - "tests_failing_2_cycles"
      - "scope_creep_detected"
  roles:
    dev:
      focus: "implementation + tests"
    reviewer:
      focus: "risk + correctness + regressions"
    doc:
      focus: "docs + examples + acceptance criteria"
